---
import { sanityClient } from 'sanity:client';
import type { ProjectType } from '../types/schema';
import ProjectCard from './project-card.astro';

const projects = await sanityClient.fetch<ProjectType[]>(
  `*[_type == "project"] | order(order asc)`
);
---

<div class='bg-white py-24 sm:py-32'>
  <div class='mx-auto max-w-7xl px-6 lg:px-8'>
    <div class='mx-auto max-w-2xl'>
      <h2 class='text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl'>
        Projects
      </h2>
      <p class='mt-2 text-lg leading-8 text-gray-600'>
        Some of the personal projects I've worked on or currently working on.
      </p>
      <div
        class='mt-10 space-y-16 border-t border-gray-200 pt-10 sm:mt-16 sm:pt-16'
      >
        {projects.map((project) => <ProjectCard project={project} />)}
      </div>
    </div>
  </div>
</div>
